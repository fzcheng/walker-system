--  -------------------------------------------------- 
--  Generated by Enterprise Architect Version 8.0.858
--  Created On : 星期二, 02 十二月, 2014 
--  DBMS       : MySql 
--  -------------------------------------------------- 

DROP TABLE IF EXISTS COMM_LEAVE
;
CREATE TABLE COMM_LEAVE
(
	ID BIGINT NOT NULL,
	CREATE_TIME BIGINT NOT NULL COMMENT '创建时间',
	USER_ID VARCHAR(36) NOT NULL COMMENT '请假人ID',
	USER_NAME VARCHAR(20) NOT NULL COMMENT '请假人姓名',
	TYPE VARCHAR(36) NOT NULL COMMENT '请假类型：代码ID',
	DATE_VALUE INTEGER NOT NULL COMMENT '请假日期，如：20141108，冗余字段',
	DATE_FROM INTEGER NOT NULL COMMENT '请假开始日期',
	DATE_TO INTEGER NOT NULL COMMENT '请假结束日期',
	PART_START VARCHAR(36) NOT NULL COMMENT '请假开始阶段，代码ID，如：上午等',
	PART_END VARCHAR(36) NOT NULL COMMENT '请假结束阶段，代码ID，如：中午等',
	REQUEST_DAYS INTEGER NOT NULL DEFAULT 0 COMMENT '请假申请天数',
	SUMMARY VARCHAR(150) COMMENT '请假事由',
	REQUEST_PROCESS_ID VARCHAR(36) NOT NULL COMMENT '请假流程实例ID',
	AFTER TINYINT NOT NULL DEFAULT 0 COMMENT '是否销假：0_否，1_是',
	AFTER_TIME BIGINT COMMENT '销假时间',
	AFTER_DATE INTEGER COMMENT '销假日期，重写请假结束日期',
	AFTER_PART VARCHAR(36) COMMENT '销假阶段，入：中午等',
	RESULT_DAYS INTEGER NOT NULL DEFAULT 0 COMMENT '最终请假天数',
	AFTER_PROCESS_ID VARCHAR(36) COMMENT '销假流程实例ID',
	DONE TINYINT NOT NULL DEFAULT 0 COMMENT '是否完成：0_否，1_是',
	PRIMARY KEY (ID)
)  COMMENT='请假表'
;

INSERT INTO s_function VALUES ('COMMON', '20', '-1', '日常管理', null, null, '1', '-1');
INSERT INTO s_function VALUES ('LEAVE_MGR', '1', '0', '请假管理', null, null, '1', 'COMMON');
INSERT INTO s_function VALUES ('LEAVE_NEW', '1', '1', '请假申请', '/oa/leave/index.do', null, '1', 'LEAVE_MGR');
